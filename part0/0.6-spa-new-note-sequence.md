**part0/0.6-spa-new-note-sequence.md**
# 0.6 – New note in SPA

**Key idea:** The SPA intercepts the form submit, sends JSON to `new_note_spa`, gets `201 Created`, and updates the DOM locally — **no redirect, no extra GETs**.

```mermaid
sequenceDiagram
    participant browser as Browser
    participant server as Server

    Note over browser: User types note and submits (JS handles submit)

    Note right of browser: e.preventDefault(); build { content, date }

    browser->>server: POST https://studies.cs.helsinki.fi/exampleapp/new_note_spa\nContent-Type: application/json\n{ content, date }
    activate server
    server-->>browser: 201 Created (JSON of created note)
    deactivate server

    Note right of browser: JS updates local state (notes.push)\nRe-renders list (no page reload)
```
